

<!-- 缓存 -->

<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta charset="utf-8"/>
    <title>登录</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/img/icon/favicon.ico" type="image/x-icon"/>

    
   
    <script src="/js/jQuery/jquery-3.4.1.min.js"></script>
	<script src="/js/jQuery/jquery-migrate-3.1.0.min.js"></script>
    <script type="text/javascript" src="/assets/layer/layer.js"></script>
    <script type="text/javascript" src="/js/md5/md5.js"></script>
    <link href="/css/login/login.css" rel="stylesheet">
	<style type="text/css">
		.breathe-btn {
            position: relative;
            width: 10px;
            height: 10px;
            margin: 40px auto;
            line-height: 40px;
            border: 1px solid #2b92d4;
            border-radius: 5px;
            color: #fff;
            font-size: 20px;
            text-align: center;
            box-shadow: 0 1px 2px rgba(0, 0, 0, .3);
            overflow: hidden;
            background-image: -webkit-gradient(linear, left top, left bottom, from(#6cc3fe), to(#21a1d0));
            -webkit-animation-timing-function: ease-in-out;
            -webkit-animation-name: breathe;
            -webkit-animation-duration: 800ms;
            -webkit-animation-iteration-count: infinite;
            -webkit-animation-direction: alternate;
        }

        #tocas a:link{
            color:gray;
            text-decoration: none;
        }
        #tocas a:visited{
            color:gray;
            text-decoration: underline;
        }
        #tocas a:hover{
            color:#92badd;
            text-decoration: none;
        }
        #tocas a:active{
            color:orange;
            text-decoration: none;
        }
	</style>
    <script>
        if (window != top) {
            top.location.href = "/login?errorCode=invalidSession";
        }
        
        function toModifyPwd() {
        	$("input[name=username]").val($("input[name=j_username]").val());
        	var form = $("#to_modify_pwd")[0];
        	form.action = "/forgetPassword/inputLoginID";
        	form.method = "post";
        	form.submit();
        }
        
        //格式化倒计时
		function formatCountDown(time) {
			var hours = Math.floor(time / 3600);
			var minutes = Math.floor(time % 3600 / 60);
			var seconds = Math.floor(time % 3600 % 60);
			var currentCountDown = "";
			if (hours > 0) currentCountDown += hours + " 时 ";
			if (minutes > 0) currentCountDown += minutes + " 分 ";
			if (seconds >= 0) currentCountDown += seconds + " 秒";
			return currentCountDown;
        }

        if(false){
            $(function(){
                $("[name=login]").each(function(i) {
                    $(this).change(function(){
                        $('#native, #cas').hide();
                        divId = '' + $(this).val();
                        $("#"+divId).show('slow');
                    })
                })
            })
        }
        
            
                
                    
                    
                    
                    
                    
                        
                            
                            
                            
                                
                                
                                
                                
                                    
                                    
                                
                                
                                
                            
                                
                            
                            
                                
                                
                            
                                
                            
                        
                    
                    
                        
                    
                
            
        
    </script>
</head>
<input type="hidden" id="schoolCode" name="schoolCode" value="100006">


<body style="background-color: #56baed;">

<div class="wrapper fadeInDown">
    <div id="formContent">
        <!-- Tabs Titles -->
        <h2 class="active"> 欢迎登录四川大学
            教务管理
            系统</h2>
        <!-- Icon -->
        <div class="fadeIn first" >
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px"
                 y="0px" width="210.25px" height="159.942px" viewBox="0 0 105.125 79.971"
                 enable-background="new 0 0 105.125 79.971" xml:space="preserve">
                <g id="Icons">
                    <g>
                        <circle fill="#E9EAEB" cx="52" cy="48.971" r="20"/>
                        <path fill="none" stroke="#D8D8D8" stroke-width="2" stroke-miterlimit="10"
                              d="M29.657,65.902    c-3.517-4.677-5.602-10.492-5.602-16.795c0-15.448,12.523-27.972,27.973-27.972C67.477,21.135,80,33.659,80,49.107    c0,6.304-2.085,12.121-5.604,16.798"/>
                        <g>
                            <path fill="#FFFFFF" stroke="#2A5082" stroke-width="2" stroke-miterlimit="10"
                                  d="M52,54.971c2.292,0,6.438-3.063,7-4     s0.775-1.863,1-3c0.053-0.27,0.828-1.771,1-2c0.942-1.253,1-5,1-5l-1-1c0,0-0.244-3.141-0.383-4.681     c-0.575-4.498-3.674-7.319-8.617-7.319s-8.042,2.822-8.617,7.319C43.244,36.831,43,39.971,43,39.971l-1,1c0,0,0.058,3.747,1,5     c0.172,0.229,0.947,1.73,1,2c0.224,1.137,0.438,2.063,1,3S49.708,54.971,52,54.971z"/>
                             
                             
                            <path fill="#2DC1E5" stroke="#2A5082" stroke-width="2" stroke-miterlimit="10"
                                  d="M52,74.971c7.004,0,13.39-2.432,18-7v-4     c-0.561-2.002-2.162-3.026-4-4l-7-3c0,0-3.604,3-7,3s-6-3-6-3l-8,3c-1.838,0.974-3.439,1.998-4,4v4     C38.61,72.54,44.996,74.971,52,74.971z"/>
                            
                            <g>
                                <line fill="none" stroke="#2A5082" stroke-width="2" stroke-miterlimit="10" x1="46"
                                      y1="56.971" x2="46" y2="51.971"/>
                            </g>
                            <g>
                                <line fill="none" stroke="#2A5082" stroke-width="2" stroke-miterlimit="10" x1="58"
                                      y1="57.565" x2="58" y2="51.971"/>
                            </g>
                        </g>
                    </g>
                    <ellipse fill="#EE5456" cx="12.771" cy="43.409" rx="2.104" ry="2.063"/>
                    <polygon fill="#EE5456"
                             points="86.028,32.771 85.644,33.905 86.359,34.864 85.163,34.849 84.471,35.826 84.116,34.683    82.973,34.328 83.95,33.636 83.935,32.439 84.894,33.155  "/>
                    <polygon fill="#2EC3E6"
                             points="29.75,14.596 29.083,14.37 28.519,14.791 28.527,14.087 27.952,13.68 28.625,13.471 28.834,12.799    29.241,13.374 29.945,13.365 29.523,13.929  "/>
                    <circle fill="none" stroke="#2EC3E6" stroke-miterlimit="10" cx="15.25" cy="18.471" r="1.125"/>
                    <circle fill="#2EC3E6" cx="89.75" cy="47.221" r="1.25"/>
                    <circle fill="#2EC3E6" cx="71.688" cy="18.784" r="1.688"/>
                    <rect x="37" y="7.971" fill="#CECECE" width="1" height="1"/>
                    <rect x="85" y="57.971" transform="matrix(0.9503 -0.3114 0.3114 0.9503 -14.2181 29.8919)"
                          fill="#CECECE" width="3" height="3"/>
                    <rect x="14.334" y="57.805" fill="#CECECE" width="2" height="2"/>

                    <rect x="16" y="31.971" transform="matrix(0.6706 -0.7419 0.7419 0.6706 -18.8596 23.4739)"
                          fill="none" stroke="#CECECE" stroke-miterlimit="10" width="2" height="2"/>
                    <rect x="49" y="8.971" transform="matrix(0.5866 -0.8099 0.8099 0.5866 12.397 45.2283)"
                          fill="#2EC3E6" width="3" height="3"/>
                    <circle fill="#FDDB00" cx="88.834" cy="21.638" r="1.5"/>
                    <circle fill="#FDDB00" cx="26.583" cy="23.555" r="0.75"/>
                    <circle fill="#FDDB00" cx="63.625" cy="8.763" r="1.042"/>
                    <polygon fill="#FDDB00"
                             points="21.118,11.668 21.705,12.087 22.385,11.841 22.167,12.53 22.61,13.099 21.889,13.104    21.485,13.703 21.256,13.018 20.562,12.819 21.143,12.389  "/>
                    <polygon fill="#D8D8D8"
                             points="82.083,10.138 81.728,11.087 80.728,11.254 80.083,10.472 80.438,9.522 81.438,9.355  "/>
                    <polygon fill="#D8D8D8"
                             points="40.083,17.305 38.819,17.826 37.736,16.992 37.917,15.638 39.181,15.117 40.264,15.95  "/>
                    <polygon fill="#D8D8D8"
                             points="61.417,16.221 60.548,16.394 59.964,15.727 60.249,14.888 61.118,14.716 61.702,15.382  "/>
                    <polygon fill="#D8D8D8"
                             points="94,36.555 92.964,37.015 92.047,36.348 92.166,35.221 93.202,34.76 94.119,35.427  "/>
                </g>
                <g id="Layer_3">
                </g>
			</svg>
        </div>
        <div style="font-size: 1.5em;">
			学  生  端
        </div>
        
        
            <div style="" >
                <div style="float:left;height:56px;width: 50%;font-size: 16px;color: gray;background: #e7f0fe;border-right: 1px solid white;padding: 10px;">
                    账号登录
                </div>
                <div id="tocas" style="float:left;height:56px;width: 50%;font-size: 16px;color: gray;background: #e7f0fe;padding: 10px;">
                    <a title="跳转统一认证" href="http://my.scu.edu.cn/" target="_self">  统一身份认证登录
                        <br/><span style="font-size: 12px;transform:scale(0.8)">登录后点击“本科教务”图标</span></a>
                </div>
            </div>
        
        <!-- Login Form -->
        
        
                <form class="form-signin" action="/j_spring_security_check" method="post" id="native">
        
        	
                <div class="fadeIn first alert"
                     style="text-align: center;width: 84%;margin-left: 8%;margin-bottom: 6px;">
                    <!-- <button type="button" class="close" data-dismiss="alert">&times;</button> -->
                    
	                    <strong>发生错误!</strong>您输入的验证码错误,请重新输入!
                    
                    
                </div>
			
            
            
	        
	     
            
	        
	        
	        
	        <input id="remainingTime" type="hidden" value="">
            <input type="text" id="input_username" name="j_username" class="fadeIn second" maxlength="50"
          
                   placeholder="学号">
            <input type="password" id="input_password" class="fadeIn third" name="j_password" maxlength="50"
                   placeholder="密码">
            <input id="input_checkcode" type="text" name="j_captcha" class="fadeIn fourth" maxlength="4"
                   placeholder="验证码" style="max-width: 275px;margin-left: -2px;">
            <a href="#" onclick="refreshCaptcha();" class="fadeIn fourth" style="height: 35px;">
                <img id="captchaImg" src="/img/captcha.jpg" title="点击换一张"
                     style="height: 45px;width: 99px;margin-top: 5px;float: right;">
            </a>
            <!-- <input type="checkbox" name="_spring_security_remember_me" class="fadeIn third" style="margin-bottom: 5px;text-align: left;">&nbsp;两周之内不必登录 -->
          
          
            <input type="submit" id="loginButton" class="fadeIn fourth" value="登 录" onclick="$('#input_password').val(hex_md5($('#input_password').val()));">
            <div class="fadeIn fourth"  style="line-height: 59px;margin-top:10px;"><!-- display: inline-block; -->
            	
            
            	<a href="javascript:void(0);" onclick="toModifyPwd();">忘记密码？</a>
            	
            </div>
            
        </form>
        
        <form id="to_modify_pwd">
        	<input type="hidden" name="username" />
        </form>

        <!-- Remind Passowrd -->
        <div id="formFooter">
           
           
            <font style="color: #56baed;">四川大学</font><br>
            <font style="color: #56baed;">建议浏览器：谷歌、火狐或IE10以上版本</font>
            
        </div>

    </div>
</div>
<!-- le js -->
<script src="/js/jQuery/jquery-3.4.1.min.js"></script>
	<script src="/js/jQuery/jquery-migrate-1.4.1.min.js"></script>

<script type="text/javascript">
    function refreshCaptcha() {
        $('#captchaImg').hide().attr('src', '/img/captcha.jpg?' + Math.floor(Math.random() * 100)).fadeIn();
    }

    window.onload = function () {
        var t = document.getElementById('input_username');
        t.focus();
        
        var schoolCode=$("#schoolCode").val();
        if(schoolCode=="100018"){
        	$("html").css("background","#71246b");
        	$("h2.active").css("border-bottom","2px solid #71246b");
        }

        //锁定后禁用登录按钮
        var $time = $('#remainingTime').val();
        if ($time != undefined && $time > 0) {
            $('#loginButton').attr('disabled', "true");

            //时间跳变
            window.setInterval(function () {
                $time -= 1;
                $('#countdown').html(formatCountDown($time));
                if ($time == 0) {
                    $('#closeCountDownInfoDiv').css({display: 'none'});
                }
            }, 1000);

            //启用登录按钮
            window.setTimeout(function () {
                $('#loginButton').removeAttr('disabled');
            }, $('#remainingTime').val() * 1000);
        }
    };
</script>
</body>
</html>